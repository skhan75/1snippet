start: "<!" snippet* ">"

snippet: "(" prefix "," title "," description "," code ")"

prefix: ESCAPED_STRING
title: "title=" ESCAPED_STRING
description: "description=" ESCAPED_STRING
code: "```" LANGUAGE CODE_BODY "```"

CODE_BODY: /[^`]+/  // Matches everything except backticks
LANGUAGE: /[a-zA-Z_][a-zA-Z0-9_]*/
ESCAPED_STRING: /"([^"\\]*(\\.[^"\\]*)*)"/

%import common.WS
%ignore WS

